<html>
  <head>
    <script src="falcor.browser.js"></script>
    <script>
      var model = new falcor.Model({source: new falcor.HttpDataSource('/model.json') });

      var jlog = function(x) { console.log(JSON.stringify(x, null, 3)); };
      var jerror = function(x) { console.error(JSON.stringify(x, null, 3)); };

      
      // > Search packages by name
      // > returns multiple packages!
      // model.get("packagesByName.bower").then(function(response) {
      //   var res = response.json.packagesByName.bower;
      //   for (pack in res) {
      //     document.write(res[pack].name+" - "+res[pack].url+"<br>");
      //   }
      // });

      
      // > Get package by ID
      // model.get(["packageById", "4J_wSnMIbr8x", "url"]).then(function(response) {
      //   document.write(response.json.packageById["4J_wSnMIbr8x"].url);
      // });

  
      // > Get general info about the registry (name, version)
      //  model.get("registryInfo").then(function(response) {
      //   document.write(response.json.registryInfo.name);
      // });


      // > Get total amount of packages in the registry
      // model.get("packages.length").then(function(response) {
      //   document.write(response.json.packages.length);
      // });
  
  
      // Create new package, providing name and url
      model.get(["createPackage", "test123", "git://github.com/BenMann/testrepo"]).then(jlog, jerror);
      
      // model.get(["createPackage", "test123", "git://github.com/BenMann/testrepo"]).then(function(response){        
      //   document.write(response.json.createPackage.test123["git://github.com/BenMann/testrepo"]);
      // });

    </script>
  </head>
  <body>
  </body>
</html>